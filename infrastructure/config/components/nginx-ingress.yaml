# NGINX Ingress Controller Configuration
nginx_ingress:
  controller:
    replica_count: 2
    service:
      type: LoadBalancer
      annotations:
        service.beta.kubernetes.io/aws-load-balancer-type: "nlb"
        service.beta.kubernetes.io/aws-load-balancer-backend-protocol: "tcp"
        service.beta.kubernetes.io/aws-load-balancer-cross-zone-load-balancing-enabled: "true"
    
    # Resource configuration
    resources:
      requests:
        cpu: "100m"
        memory: "90Mi"
      limits:
        cpu: "500m"
        memory: "512Mi"
    
    # Node selector and tolerations
    nodeSelector:
      kubernetes.io/os: linux
    
    # Metrics configuration
    metrics:
      enabled: true
      serviceMonitor:
        enabled: true
        namespace: "monitoring"
    
    # ConfigMap for additional configuration
    config:
      use-forwarded-headers: "true"
      compute-full-forwarded-for: "true"
      use-proxy-protocol: "false"
      server-snippet: |
        more_set_headers "X-Frame-Options: SAMEORIGIN";
        more_set_headers "X-Content-Type-Options: nosniff";
        more_set_headers "X-XSS-Protection: 1; mode=block";

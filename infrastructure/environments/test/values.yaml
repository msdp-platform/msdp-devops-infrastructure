# Test Environment Configuration
environment: test
cluster:
  name: msdp-infra-aks-test
  resourceGroup: delivery-platform-aks-rg-test
  location: eastus
  kubernetesVersion: "1.32.6"
  nodeCount: 2
  nodeVmSize: "Standard_D2s_v3"
  minCount: 2
  maxCount: 5

# Crossplane Configuration
crossplane:
  namespace: crossplane-system
  version: "2.0.2"
  providers:
    azure:
      version: "v2.0.1"
    aws:
      version: "v0.44.0"
    gcp:
      version: "v2.0.1"

# ArgoCD Configuration
argocd:
  namespace: argocd
  version: "stable"
  server:
    serviceType: LoadBalancer
    replicas: 2
  controller:
    replicas: 2
  repoServer:
    replicas: 2
  applicationSet:
    replicas: 2
  notifications:
    replicas: 1
  dex:
    replicas: 1
  redis:
    replicas: 1

# Backstage Configuration
backstage:
  namespace: backstage
  version: "0.1.0"
  replicas: 2
  resources:
    requests:
      cpu: "200m"
      memory: "256Mi"
    limits:
      cpu: "1000m"
      memory: "1Gi"
  postgres:
    enabled: true
    host: "backstage-postgres-test"
    port: 5432
    database: "backstage"
    user: "backstage"
  app:
    title: "MSDP Developer Portal - Test"
    baseUrl: "https://backstage-test.aztech-msdp.com"

# Networking Configuration
networking:
  ingress:
    className: "nginx"
    annotations:
      cert-manager.io/cluster-issuer: "letsencrypt-prod"
      nginx.ingress.kubernetes.io/ssl-redirect: "true"
  domains:
    argocd: "argocd-test.aztech-msdp.com"
    backstage: "backstage-test.aztech-msdp.com"
    app: "app-test.aztech-msdp.com"

# Security Configuration
security:
  certManager:
    enabled: true
    clusterIssuer: "letsencrypt-prod"
  rbac:
    enabled: true
  networkPolicies:
    enabled: true

# Monitoring Configuration
monitoring:
  enabled: true
  prometheus:
    enabled: true
  grafana:
    enabled: true
  alertManager:
    enabled: true

# Cost Optimization
costOptimization:
  enabled: true
  spotInstances:
    enabled: true
  autoScaling:
    enabled: true
  scaleToZero:
    enabled: false

# Tags
tags:
  Environment: "test"
  Project: "MSDP"
  CostOptimized: "true"
  ManagedBy: "GitOps"
